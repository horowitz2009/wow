<div class="container">
	<h1>Checkout Form</h1>
	<form #checkoutForm="ngForm" (ngSubmit)="onSubmit()">
	
	
	<!-- NAME -->
		<div class="form-group">
			<label for="name">Name</label> <input type="text"
				class="form-control required" id="name" required [(ngModel)]="model.name"
				name="name" #name="ngModel" #spy>
			<!-- TODO: remove this: {{model.name}}
        <br>TODO: remove this: {{spy.className}}-->
			<div [hidden]="name.valid || name.pristine"
				class="alert alert-danger">Name is required</div>
		</div>
		
		<!-- PHONE -->
		<div class="form-group">
			<label for="phone">Phone</label> <input type="text"
				class="form-control required" id="phone" required [(ngModel)]="model.phone"
				name="phone" #phone="ngModel">
				<div [hidden]="phone.valid || phone.pristine"
				class="alert alert-danger">Phone is required</div>
		</div>
		
		
		
		<!-- ADDRESS -->
		<div class="form-group">
			<label for="address">Address</label> <input type="text"
				class="form-control" id="address" [(ngModel)]="model.address"
				name="address">
		</div>
		
		<!-- INVOICE CHECKBOX -->
		<div class="form-group">

			<div>
				<input type="checkbox" id="wantInvoice" name="wantInvoice" [(ngModel)]="model.wantInvoice">
				<label for="wantInvoice">I want invoice</label>
			</div>

		</div>
		
		<!-- INVOICE TEXT -->
		<div class="form-group" *ngIf="model.wantInvoice">

			<label for="invoiceInfo">Invoice details</label> 
			
			<textarea rows="3" cols="50" class="form-control" id="invoiceInfo" name="invoiceInfo"
              [(ngModel)]="model.invoiceInfo" ></textarea>
			
			
			
			<!-- <input type="text"
				class="form-control" id="invoiceInfo" [(ngModel)]="model.invoiceInfo"
				name="invoiceInfo">-->
		</div>
		
		<!-- EMAIL -->
		<div class="form-group">
			<label for="email">E-mail</label> <input type="email"
				class="form-control" id="email" [(ngModel)]="model.email" appEmailOptional
				name="email" #hmm #email="ngModel"
				[ngClass]="{
        'has-danger': email.value != '' && email.invalid && (email.dirty || email.touched),
        'has-success': email.valid && (email.dirty || email.touched)
      }">
				{{hmm.className}}
				{{email.dirty}}		
				<!-- [ngClass]="{
        'has-danger': email.invalid && (email.dirty || email.touched),
        'has-success': email.valid && (email.dirty || email.touched)
      }" -->
		</div>
		
		<button type="submit" class="btn btn-success" [disabled]="!checkoutForm.form.valid">Submit</button>

	</form>
	
	<div>{{diagnostic}}</div>
</div>